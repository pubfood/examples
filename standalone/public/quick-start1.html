<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Pubfood Quick Start 1</title>
        <style>
         body { font-family:'Helvetica Neue', Helvetica, Arial, sans-serif; }
         .question { width: 55%; word-break: normal; }
         .step { width: 1050px; }
         .step-text { width: 400px; word-break: normal; float: left; overflow: hidden }
         .code-sample { width: 600px; margin-left: 2%; float: left; overflow: hidden }
         pre {
             overflow-x: scroll;
         }
         .lines-ref { font-family: monospace }
         .code-ref { font-family: monospace }
        </style>
    </head>
    <body>
        <script>
         function insertStepScript(name, content) {
             var el = document.getElementById(name);
             if (el) {
                 var js = document.createElement('script');
                 js.innerHTML = content;
                 el.parentNode.insertBefore(js, el);
             }
         }

         function insertStepDoc(name, content) {
             var el = document.getElementById(name + '-code');
             if (el) {
                 el.innerHTML = content;
             }
         }

         function getStep(name) {
             var xhr = new XMLHttpRequest();
             xhr.onload = function(e) {
                 if (this.status == 200) {
                     var blob = new Blob([this.response], {type: 'text/javascript'});
                     var reader = new FileReader();
                     reader.addEventListener("loadend", function() {
                         insertStepScript(name, reader.result);
                         insertStepDoc(name, reader.result);
                     });
                     reader.readAsText(blob);
                 }
             };
             xhr.open('GET', '/quick-start1-' + name + '.js', true);
             xhr.responseType = 'blob';
             xhr.send();
         }

         // global for the auction provider
         window.auctionProviderOne = window.auctionProviderOne || {};
         auctionProviderOne.cmd = auctionProviderOne.cmd || [];

         // globals for all bid providers
         window.bidProviderOne = window.bidProviderOne || {};
         bidProviderOne.cmd = bidProviderOne.cmd || [];
        </script>

        <script src="/pubfood.js"></script>

        <h1>Pubfood Quick Start - Simple</h1>
        <h2>Who?</h2>
        <div class="question">
        You are a publisher setting up header bidding on your site. You need a framework
        to facilitate adding bidding partners incrementally.
        <p></p>
        Your developers need a simple way to add bidding partners to your particular
        ad server.
        </div>
        <h2>What?</h2>
        <div class="question">
        You have an ad server that auctions bidders for the impression.
        <p></p>
        You have one bid partner that has a JavaScript library to make bid requests
        in order to set bid targeting values for your ad server request.
        </div>
        <h2>Why?</h2>
        <div class="question">
        Your bid partner provider can improve the impression yield for your site.
        If you can get your partner's impression bid before the ad server request,
        you can run an ad server auction to prioritize campaign creative selection by:
        <p></p>
        <ol>
            <li>Direct sold campaign contracts;</li>
            <li>Partner bid value; and</li>
            <li>Fallback to ad exchanges.</li>
        </ol>
        <p></p>
        Partnering with a header bidder helps improve monetization potential and yield
        for your content page views.
        <p></p>
        However, understanding more about header bidding partner performance will help
        you further manage your yield, budget forecasts, sales planning and partnerships.
        <p></p>
        </div>
        <h2>When?</h2>
        <div class="question">
        When a user visits your site, timing is important.
        <p></p>
        Firstly, user experience is key so page load latency is very important.
        <p></p>
        Therefore, asking bidders for interest in a pageview within the accepatble
        page load window is key to maintaining your brand, user attention and
        monetization of your content.
        </div>
        <h2>Where?</h2>
        <div class="question">
        Simple additions or refinements to:
        <p></p>
        <ol>
            <li>Your site code</li>
            <li>Your ad server operations</li>
        </ol>
        </div>
        <h2>How?</h2>
        <div class="question">
        <em>Let's make a few assumptions to set the stage:</em>
        <ol>
            <li>
                you've decided that header bidding will complement revenue generated
                from your publication.
                <p></p>
                But, you want to take it slow and offer one slot only to header bidding
                partners.
                <p></p>
            </li>
            <li>
                you already have direct ad sales and these are serviced using an existing
                ad server service.
                <p></p>
            </li>
            <li>
                your IT development team already have your ad server JavaScript code deployed
                on your site and want to reuse the code.
                <p></p>
            </li>
            <li>
                your Ad Operations team have told you that they want to setup your ad server
                with specific line items targeting a partner's bid for specific slots and dimensions
                as they do today with competing direct sold campaigns.
                <p></p>
            </li>
        </ol>
        </div>
        <p></p>
        <h3>Getting started with the Pubfood framework</h3>
        <div class="step">
            <h4><em>The steps</em></h4>
            <div class="step-text">
                <ol>
                    <li>Define slots and which partner may bid for them.</li>
                    <li>Define or copy your bidding partner JavaScript code.</li>
                    <ol>
                        <li>on each bid, call the <span class="code-ref">pushBid({})</span> callback</li>
                        <li>when bidding finished, call the <span class="code-ref">done()</span> callback</li>
                    </ol>
                    <li>Define or copy your ad server JavaScript code to send bids to auction.</li>
                    <li>Define where to display your ad.</li>
                    <li>Set a bidder timeout and start the pubfood auction.</li>
                </ol>
            </div>
            <div class="code-sample">
                <b><em>How did this ad get here?</em></b>
                <pre id="div-rail"></pre>
            </div>
        </div>
        <div class="step">
            <h4>Define slots</h4>
            <div class="step-text">You will tell Pubfood which of your ad server slots are available for bidding and which partners may bid for therm.</div>
            <div class="code-sample">
                <pre id="step1-code" class="prettyprint linenums">
                </pre>
            </div>
        </div>
        <div class="step">
            <h4>Define bidding partner</h4>
            <div class="step-text">Pubfood does not need to know much about how your bid provider works. What it does need to know is:<p>
                <ul>
                    <li><span class="lines-ref">line 2</span> - the bidder name</li>
                    <li><span class="lines-ref">line 3</span> - the bid provider JavaScript library to load</li>
                    <li><span class="lines-ref">line 4</span> - bidder specific config for slots. in this case the bidder has it's own identifier for the <span class="code-ref">/2476204/rail</span> slot</li>
                    <li><span class="lines-ref">line 8</span> - the function to initialize bids</li>
                    <ul>
                        <li><span class="lines-ref">line 38</span> - submit a bid with the <span class="code-ref">pushBid({})</span> callback</li>
                        <li><span class="lines-ref">line 49</span> - notify pubfood when done with the  <span class="code-ref">done()</span> callback</li>
                    </ul>
                    <li><span class="lines-ref">line 52</span> The function to refresh bids</li>
                </ul>
            </div>
            <div class="code-sample">
                <pre id="step2-code" class="prettyprint linenums">
                </pre>
            </div>
        </div>
        <div class="step">
            <h4>Define your ad server</h4>
            <div class="step-text">Publisher adserver stuff here.
                <ul>
                    <li><span class="lines-ref">line 2</span> - the auction provider name</li>
                    <li><span class="lines-ref">line 3</span> - the auction provider JavaScript library to load</li>
                    <li><span class="lines-ref">line 5</span> - the function to initialize the auction</li>
                    <ul>
                        <li><span class="lines-ref">line 36</span> - notify pubfood when done with the  <span class="code-ref">done()</span> callback</li>
                    </ul>
                    <li><span class="lines-ref">line 52</span> - the function to refresh with a new auction for slots</li>
                </ul>
            </div>
            <div class="code-sample">
                <pre id="step3-code" class="prettyprint lang-js linenums">
                </pre>
            </div>
        </div>
        <div class="step">
            <h4>Define when to display ads</h4>
            <div class="step-text">When pubfood has completed the auction orchestration, it will raise an event to indicate ads are ready to display.
                <ul>
                    <li><span class="lines-ref">line 1</span> - observethe auction provider name</li>
                    <li><span class="lines-ref">line 3</span> - the auction provider JavaScript library to load</li>
                    <li><span class="lines-ref">line 5</span> - the function to initialize the auction</li>
                    <ul>
                        <li><span class="lines-ref">line 36</span> - notify pubfood when done with the  <span class="code-ref">done()</span> callback</li>
                    </ul>
                    <li><span class="lines-ref">line 52</span> - the function to refresh with a new auction for slots</li>
                </ul>
            </div>
            <div class="code-sample">
                <pre id="step4-code" class="prettyprint lang-js linenums">
                </pre>
            </div>
        </div>
        <div class="step">
            <h4>Start the pubfood auction</h4>
            <div class="step-text">Starting a pubfood auction will initiate and orchestrate the steps defined above.</div>
            <div class="code-sample">
                <pre id="step5-code" class="prettyprint lang-js linenums">
                </pre>
            </div>
        </div>

        <div>
            <div id="step1"></div>
            <div id="step2"></div>
            <div id="step3"></div>
            <div id="step4"></div>
            <div id="step5"></div>
        </div>
        <script>
         getStep('step1');
         getStep('step2');
         getStep('step3');
         getStep('step4');
         getStep('step5');
        </script>
        <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
    </body>
</html>
